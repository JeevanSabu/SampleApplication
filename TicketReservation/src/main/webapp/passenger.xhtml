<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns = "http://www.w3.org/1999/xhtml"
   xmlns:f = "http://java.sun.com/jsf/core"    
   xmlns:h = "http://java.sun.com/jsf/html"
   xmlns:p = "http://primefaces.org/ui">
   
   <h:head>
      <title>Ticket Reservation|Passenger Details</title>
      <meta name="viewport" content="width=device-width, user-scalable=false;"/>
      <h:outputStylesheet library = "css" name = "styles.css"  /> 
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>	
      <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"/>
      <h:outputScript library = "js" name = "script.js"  /> 
   </h:head>
 
   <h:body>
	<header class="header booking-header">
	    Passenger Details
       <p:growl id="growl" showDetail="true" sticky="true" />
	   <h:form id="user_icon_form" styleClass="user-icon-form">  
		    <p:commandLink id="user_icon_button">
		    	<i class="pi pi-user icon home-user-icon float-right"></i>
		    </p:commandLink>    
			<h:inputHidden value="#{passengerSeats.busId}"/>
			<h:inputHidden value="#{passengerSeats.busName}"/>
			<h:inputHidden value="#{passengerSeats.price}"/>
			<h:inputHidden value="#{passengerSeats.availableSeats}"/>
		    <p:commandButton action="#{passengerModel.backToBus}" value="back" styleClass="float-right back logout-button"/>
		    <p:overlayPanel id="user_overlay_panel" styleClass="user-overlay-panel" for="user_icon_button" hideEffect="fade">
		    		<p:panelGrid columns="2" cellpadding="10" styleClass="overlay-panel-grid no-border">
				        <h:outputText value="Username : " />
				        <h:outputText value="#{userBean.username}" />
				        <h:outputText value="Last Login : " />
				        <h:outputText value="#{userBean.lastLogin}" />
				        <p:commandButton id="home_redirect_button" value="Home" action="home" styleClass="home-redirect-button logout-button"/>
				        <p:commandButton id="logout_button" value="Log Out" action="#{userModel.logout}" styleClass="logout-button"/>
		    		</p:panelGrid>
		    </p:overlayPanel>
	    </h:form>
	</header>
	<h:form id="passenger_details_form" styleClass="passenger-details-form">
	<h:inputHidden value="#{passengerSeats.busId}"/>
	<h:inputHidden value="#{passengerSeats.busName}"/>
	<h:inputHidden value="#{passengerSeats.price}"/>
	<h:inputHidden value="#{passengerSeats.availableSeats}"/>
	<p:dataView id="passenger_dataview" var="seats" styleClasss="passenger-dataview" value="#{passengerSeats.seats}">
	                <!--  listIcon="pi pi-bars" gridIcon="pi pi-th-large" -->
	                 
	 <!-- 
	        <p:dataViewGridItem>
	            <p:panel header="#{seats.seatNo}" style="text-align:center">
	                <h:panelGrid columns="2" cellpadding="5">
	                        <h:outputText value="Seat no :" />
	                        <h:outputText value="#{seats.getSeatNo()}" style="font-weight: bold"/>
	 
	                        <h:outputText value="Passenger Name : " />
	                        <h:inputText value="#{seats.passengerName}" style="font-weight: bold"/>
	 
	                        <h:outputText value="Age : " />
	                        <h:inputText value="#{seats.passengerAge}" style="font-weight: bold"/>
	                        
	                        <h:outputText value="Gender : " />
	                        <h:inputText value="#{seats.passengerGender}" style="font-weight: bold"/>
	                    </h:panelGrid>
	            </p:panel>
	        </p:dataViewGridItem>
	  -->
	 
	        <p:dataViewListItem styleClass="passenger-list-dataviewlistitem">
	            <h:panelGrid columns="3" style="width:100%" styleClass="passenger-list-dataview-panel" columnClasses="seatNo,detail">
	 
	                <p:outputPanel>
	                    <h:panelGrid columns="2" cellpadding="5">
	                        <h:outputText value="Seat no :" />
	                        <h:outputText value="#{seats.seatNo}" style="font-weight: bold"/>
	 
	                        <h:outputText value="Passenger Name : " />
	                        <p:inputText value="#{seats.passengerName}" required="true" />
	 
	                        <h:outputText value="Age : " />
	                        <p:inputMask value="#{seats.passengerAge}" mask="99" required="true" />
	                        
	                        <h:outputText value="Gender : " />
							<p:selectOneMenu value="#{seats.passengerGender}" style="width:150px" required="true">
					            <f:selectItem itemLabel="select one" itemValue="" />
					            <f:selectItem itemLabel="male" itemValue="male" />
					            <f:selectItem itemLabel="female" itemValue="female" />
					        </p:selectOneMenu>
	                    </h:panelGrid>
	                </p:outputPanel>
	 
	            </h:panelGrid>
	        </p:dataViewListItem>
	    </p:dataView>
	    <p:commandButton id="passenger_button" styleClass="passenger-button" value="Book" action="#{passengerModel.getResult()}"/>
	</h:form>
	<footer class="footer center fixed-header">&copy;SampleApplication.com</footer>
   </h:body>
</html>